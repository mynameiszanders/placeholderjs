/*!
 * @copyright	2011, Alexander Baldwin
 * @license	MIT/X11 <http://j.mp/mit-license>
 */
(function(){var b=this.jQuery,h="input[type='"+["text","search","password","tel","url","email","date","month","datetime","week","time","number","color","datetime-local"].join("'],input[type='")+"'],textarea";if(typeof b!=="function")return!1;var i="placeholder"in document.createElement("input");b.fn.autoFill=function(c){var c=typeof c=="string"?c:!1,e=b(this).filter(h);if(e.length==0)return!1;b.each(e,function(e,g){var a=b(g),f=typeof a.data("placeholder")==="string"?a.data("placeholder"):g.defaultValue;if(i&&typeof a.attr("placeholder")==="string"&&a.attr("placeholder")!=="")return!0;a.val()!==f?a.data("focused",!0):a.addClass(c).data("focused",!1);a.bind("focus",function(){a.data("focused")||(f===a.val()&&a.val(""),a.data("focused",!0),a.removeClass(c))});a.bind("blur",function(){a.val()==""?(a.val(f),a.data("focused",!1),a.addClass(c)):a.val()!=f&&a.data("focused",!0)});var d=a.parents("form");d.length!=0&&(d=b(d.get(0)),d.bind("reset",function(){setTimeout(function(){a.val("").trigger("blur")},1)}),d.bind("submit",function(){a.trigger("blur");a.data("focused")||a.val("")}))});e.trigger("blur")}}).call(this);
